<div class="container mt-4">
  <h2>{{ isEditing ? 'Edit' : 'Add' }} Pet Service</h2>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-4">
    <div class="mb-3">
      <label for="name" class="form-label">Service Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        formControlName="name"
        [class.is-invalid]="form.get('name')?.invalid && form.get('name')?.touched"
      >
      <div class="invalid-feedback" *ngIf="form.get('name')?.errors?.['required']">
        Service name is required
      </div>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description</label>
      <textarea
        class="form-control"
        id="description"
        rows="3"
        formControlName="description"
        [class.is-invalid]="form.get('description')?.invalid && form.get('description')?.touched"
      ></textarea>
      <div class="invalid-feedback" *ngIf="form.get('description')?.errors?.['required']">
        Description is required
      </div>
    </div>

    <div class="mb-3">
      <label for="price" class="form-label">Price ($)</label>
      <input
        type="number"
        class="form-control"
        id="price"
        formControlName="price"
        [class.is-invalid]="form.get('price')?.invalid && form.get('price')?.touched"
      >
      <div class="invalid-feedback" *ngIf="form.get('price')?.errors?.['required']">
        Price is required
      </div>
      <div class="invalid-feedback" *ngIf="form.get('price')?.errors?.['min']">
        Price must be greater than or equal to 0
      </div>
    </div>

    <div class="mb-3">
      <label for="duration" class="form-label">Duration (minutes)</label>
      <input
        type="number"
        class="form-control"
        id="duration"
        formControlName="duration"
        [class.is-invalid]="form.get('duration')?.invalid && form.get('duration')?.touched"
      >
      <div class="invalid-feedback" *ngIf="form.get('duration')?.errors?.['required']">
        Duration is required
      </div>
      <div class="invalid-feedback" *ngIf="form.get('duration')?.errors?.['min']">
        Duration must be at least 1 minute
      </div>
    </div>

    <div class="d-flex gap-2">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="form.invalid || loading"
      >
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
        {{ isEditing ? 'Update' : 'Add' }} Service
      </button>
      <button type="button" class="btn btn-secondary" (click)="onCancel()">
        Cancel
      </button>
    </div>
  </form>
</div> 